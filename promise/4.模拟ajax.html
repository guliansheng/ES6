<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>
<body>

</body>
<script type="text/javascript">
let status = 1;
let userlogin = (resolve,reject)=>{
    setTimeout(()=>{
        if(status == 1){
            resolve({data:'xxxx',mag:'xxx',token:'xxxx'});
        }
        else{
            reject('失败了');
        }
    },1000)
}
let getUserData = (resolve,reject)=>{
    setTimeout(()=>{
        if(status == 1){
            resolve({data:'获取用户信息成功',msg:'众人',token:'此次重新凝聚'})
        }
    },2000)
}
new Promise(userlogin).then(res=>{
    console.log('用户登录成功');
    return new Promise(getUserData);
}).then(res=>{
    console.log('用户信息获取成功');
    console.log(res);
})
</script>
</html>